[{"content":"Prerequisites:\nSign up an OpenRouter account, then create an API key, the key format is like:\nsk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx API Base URL: https://openrouter.ai/api/v1 A model ID: deepseek/deepseek-chat-v3-0324:free or microsoft/mai-ds-r1:free Pull the Open WebUI docker image and run a container, refer to Quick Start\nPull the Open WebUI Image 1 docker pull ghcr.io/open-webui/open-webui:main Run the Container 1 docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui ghcr.io/open-webui/open-webui:main Access Open WebUI: http://localhost:3000, create a local Open WebUI account, sign in, go to Settings \u0026raquo; Connections \u0026raquo; Add connection, then enter the prerequisites info you prepared.\nEnjoy!\n","permalink":"https://ninjatypeman.github.io/posts/free-ds-openrouter/","summary":"Use free DeepSeek on local pc via Open WebUI + OpenRouter","title":"Use free DeepSeek via Open WebUI + OpenRouter"},{"content":" æœ¬æ–‡ä¸åŒ…å« ibus-rime â€œç¾åŒ–â€ï¼Œä¸»æ‰“èƒ½ç”¨å°±è¡Œ\nå®‰è£… ibus-rime 1 sudo dnf install ibus-rime # å®‰è£…å®Œæˆåé‡æ–°ç™»å…¥ é…ç½® ibus-rime é‡åˆ°ä¸‹é¢çš„ä»»ä½•é…ç½®æ­¥éª¤ä¸ç”Ÿæ•ˆæ—¶ï¼Œå¤šå°è¯•é‡æ–°ç™»å…¥æˆ–é‡å¯\næ·»åŠ  Rime Settings \u0026raquo; Keyboard \u0026raquo; Add Input Source \u0026raquo; Chinese \u0026raquo; Chinese(Rime) \u0026raquo; Add\nè®¾ç½®ç¯å¢ƒå˜é‡ 1 2 3 4 5 vi ~/.bash_profile # åŠ å…¥ä¸‰è¡Œå†…å®¹: export XMODIFIERS=@im=ibus export GTK_IM_MODULE=ibus export QT_IM_MODULE=ibus è§£å†³å€™é€‰æ¡†åç§» å‚è€ƒ Fedoraé…ç½®Rimeä¸­å·éŸµè¾“å…¥æ³•\nå¦‚æœå‡ºç°å€™é€‰æ¡†åç§»çš„é—®é¢˜ï¼Œå¯ä»¥æ³¨é‡Šæˆ–è€…åˆ æ‰ä¸Šé¢æ·»åŠ çš„ç¯å¢ƒå˜é‡åé¢ä¸¤è¡Œ\n1 2 3 4 vi ~/.bash_profile export XMODIFIERS=@im=ibus # ä»…ä¿ç•™æ­¤è¡Œ # export GTK_IM_MODULE=ibus # export QT_IM_MODULE=ibus è§£å†³ Flatpak åº”ç”¨æ— æ³•è¾“å…¥ä¸­æ–‡ è¿è¡Œä»¥ä¸‹å‘½ä»¤æˆ–è€…é€šè¿‡ Flatseal å›¾å½¢ç•Œé¢æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œé‡æ–°ç™»å…¥å³å¯æ­£å¸¸è¾“å…¥ä¸­æ–‡ï¼Œä½†æ˜¯éƒ¨åˆ† Flatpak åº”ç”¨æœ‰å€™é€‰æ¡†åç§»çš„é—®é¢˜ï¼Œæš‚æ—¶æ— è§£\n1 flatpak override --user --all --env=GTK_IM_MODULE=ibus --env=QT_IM_MODULE=ibus --env=XMODIFIERS=@im=ibus å®‰è£… plumï¼ˆä¸œé£ç ´ï¼‰å’Œé›¾å‡‡æ‹¼éŸ³ å‚è€ƒ é›¾å‡‡æ‹¼éŸ³\n1 2 3 4 5 6 7 8 9 10 # å®‰è£… plumï¼ˆä¸œé£ç ´ï¼‰ cd ~ git clone https://github.com/rime/plum.git plum # å¸è½½ plum åªéœ€è¦åˆ é™¤ ~/plum æ–‡ä»¶å¤¹å³å¯ # å®‰è£…é›¾å‡‡æ‹¼éŸ³ cd ~/plum bash rime-install iDvel/rime-ice:others/recipes/full # å®‰è£…æˆ–æ›´æ–°å…¨éƒ¨æ–‡ä»¶ bash rime-install iDvel/rime-ice:others/recipes/config:schema=flypy ibus restart å°é¹¤åŒæ‹¼ 1 2 # å°†æ–¹æ¡ˆåˆ—è¡¨çš„ schema: double_pinyin_flypy è¿™è¡Œç§»åŠ¨åˆ°æœ€å‰é¢ï¼Œå…¶ä»–è¾“å…¥æ–¹æ¡ˆåŒç† vi ~/.config/ibus/rime/default.yaml æ°´å¹³å€™é€‰æ¡† 1 2 3 4 5 6 # æ–°å»º ~/.config/ibus/rime/ibus_rime.custom.yaml vi ~/.config/ibus/rime/ibus_rime.custom.yaml # æ·»åŠ ï¼š patch: \u0026#34;style/horizontal\u0026#34;: true å€™é€‰è¯ä¸ªæ•° 1 2 vi ~/.config/ibus/rime/default.yaml # page_size: 5 ä¿®æ”¹ä¸º page_size: 9 å…³é—­å€™é€‰è¯æ‹¼éŸ³æç¤º 1 2 vi ~/.config/ibus/rime/double_pinyin_flypy.schema.yaml spelling_hints: 8 # æ³¨é‡Šè¿™è¡Œ å€™é€‰è¯å­—å· å®‰è£… IBus Tweaker æ‰©å±•ï¼Œä½¿ç”¨è¯¥æ‰©å±•å¯ä»¥è°ƒæ•´å€™é€‰è¯å­—å·\nå¿«æ·é”® 1 2 # æ–¹æ¡ˆé€‰å•ï¼šF4 # ç¹ç®€åˆ‡æ¢ï¼šCtrl + Shift + 4 ","permalink":"https://ninjatypeman.github.io/posts/ibus-rime-fedora/","summary":"åœ¨Fedora Linux 42 (Workstation Edition) ä¸Šå®‰è£…ã€é…ç½® ibus-rime + é›¾å‡‡æ‹¼éŸ³","title":"Fedora 42 å®‰è£…ã€é…ç½® ibus-rime"},{"content":" Use the command line to upgrade from Fedora 41 to Fedora 42, refer to an article on it\u0026rsquo;s FOSS\n1 2 3 sudo dnf upgrade --refresh sudo dnf system-upgrade download --releasever=42 sudo dnf system-upgrade reboot Change Hostname Change the default hostname \u0026lsquo;fedora\u0026rsquo; to what you want.\n1 2 hostnamectl # Check the hostname sudo hostnamectl set-hostname \u0026lt;my-fedora\u0026gt; # Change the hostname Upgrade Packages Append content below to /etc/dnf/dnf.conf\n1 2 3 4 5 # /etc/dnf/dnf.conf fastestmirror=True max_parallel_downloads=16 defaultyes=True keepcache=True Then upgrade packages\n1 sudo dnf upgrade # both update and upgrade work Config Grub Config Grub if you dual-boot Windows and Fedora\n1 2 3 4 5 6 7 # Edit /etc/default/grub, append/change these lines: GRUB_TIMEOUT=30 GRUB_DEFAULT=saved GRUB_SAVEDEFAULT=true sudo -i sudo grub2-mkconfig -o /boot/grub2/grub.cfg Config .bashrc To make your terminal much easier to use, append below content to ~/.bashrc\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 # ~/.bashrc bind \u0026#34;set completion-ignore-case on\u0026#34; export HISTCONTROL=erasedups export HISTIGNORE=\u0026#34;\u0026amp;:h:l:l.:la:ll:ls:cd:pwd:clear:cls:..:...:....\u0026#34; PS1=\u0026#39;\\[\\e[32m\\]\\w\\[\\e[0m\\] \u0026#39; # Aliases alias ..=\u0026#39;cd ..\u0026#39; alias ...=\u0026#39;cd ../..\u0026#39; alias ....=\u0026#39;cd ../../..\u0026#39; alias la=\u0026#39;ls -A\u0026#39; alias l=\u0026#39;ls -CF\u0026#39; alias ll=\u0026#39;ls -alF\u0026#39; alias cls=\u0026#39;clear\u0026#39; alias h=\u0026#39;history\u0026#39; alias hgrep=\u0026#39;history | grep\u0026#39; alias catbrc=\u0026#39;cat ~/.bashrc\u0026#39; alias sobrc=\u0026#39;source ~/.bashrc\u0026#39; alias fuck=\u0026#39;sudo $(fc -ln -1)\u0026#39; alias vim=\u0026#39;nvim\u0026#39; alias vibrc=\u0026#39;nvim ~/.bashrc\u0026#39; alias extar=\u0026#39;tar -xzvf\u0026#39; alias sdupg=\u0026#39;sudo dnf upgrade\u0026#39; # Logout, Reboot, Suspend, Poweroff alias lgout=\u0026#39;gnome-session-quit --logout --no-prompt\u0026#39; alias reboot=\u0026#39;systemctl reboot\u0026#39; alias ssp=\u0026#39;systemctl suspend\u0026#39; alias pwoff=\u0026#39;systemctl poweroff\u0026#39; Apply changes and reload\n1 source ~/.bashrc Enable RPM Fusion Refer to RPM Fusion Configuration\n1 sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm The dnf Command Some dnf commands\n1 2 3 4 5 6 dnf check-update dnf search \u0026lt;pkg-name\u0026gt; dnf repoquery \u0026lt;pkg-name\u0026gt; dnf info \u0026lt;pkg-name\u0026gt; dnf remove \u0026lt;pkg-name\u0026gt; dnf autoremove Screen Brightness Use ddcutil to adjust brightness of your screen, you can install a Gnome extension call \u0026ldquo;Brightness Control using DDC/C\u0026rdquo; to adjust by keyboard shortcut or mouse.\n1 2 3 sudo dnf install ddcutil sudo ddcutil detect sudo ddcutil setvcp 10 \u0026lt;value\u0026gt; # Adjust brightness via command Install a Nerd Font Download a Nerd Font, AdwaitaMono Nerd Font, for instance\n1 2 3 4 5 6 7 sudo mkdir -p /usr/share/fonts/nerd-fonts # Create this folder if not exist cd /usr/share/fonts/nerd-fonts # Enter this folder sudo wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.4.0/AdwaitaMono.zip # Download the AdwaitaMono Nerd Font sudo unzip AdwaitaMono.zip -d AdwaitaMono # Unzip fc-cache -fv # Rebuild the entire font cache fc-list | grep \u0026#34;AdwaitaMono\u0026#34; # Check if AdwaitaMono Nerd Font installed sudo rm AdwaitaMono.zip # Delete the .zip file ","permalink":"https://ninjatypeman.github.io/posts/fedora42-todo/","summary":"Things to do after installing Fedora Workstation 42","title":"Things to do after installing Fedora 42"},{"content":"æ£€æŸ¥ openssh æ˜¯å¦å·²å®‰è£… 1 2 3 dnf list installed openssh which ssh # è¾“å‡º /usr/sbin/ssh systemctl status sshd ç”Ÿæˆ ed25519 å¯†é’¥å¯¹ 1 2 ssh-keygen -t ed25519 -C \u0026#34;your_email@example.com\u0026#34; -f ~/.ssh/github_ed25519 -N \u0026#34;\u0026#34; # ~/.ssh å¦‚æœä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼›-N å‚æ•°è®¾ç½® passphrase ä¸ºç©º æ·»åŠ åˆ° SSH agent 1 2 eval \u0026#34;$(ssh-agent -s)\u0026#34; # å¯åŠ¨ SSH Agentï¼ˆåå°è¿›ç¨‹ï¼‰ ssh-add ~/.ssh/github_ed25519 # æŠŠ SSH ç§é’¥æ·»åŠ è¿› SSH agentï¼Œè®©ç³»ç»Ÿè®°ä½å®ƒ æµ‹è¯• SSH è¿æ¥ 1 2 ssh-add -l # æ£€æŸ¥æœ¬åœ° SSH key ssh -T git@github.com # æµ‹è¯• SSH è¿æ¥ ","permalink":"https://ninjatypeman.github.io/posts/ssh-note/","summary":"SSH ç›¸å…³ç¬”è®°","title":"SSH ç¬”è®°"},{"content":"Fedora Workstation 41 å®‰è£…å®‰è£…ä¹‹åçš„é…ç½®\nâš™ï¸ é…ç½® DNF 1 2 3 4 5 6 7 8 sudo vi /etc/dnf/dnf.conf # ç¼–è¾‘ dnf.conf # æ·»åŠ ä¸‹é¢çš„å†…å®¹ [main] fastestmirror=True max_parallel_downloads=16 defaultyes=True # é»˜è®¤yesï¼Œç”¨æˆ·æŒ‰ä¸‹ Enter é”®ç»§ç»­ keepcache=True # assumeyes=True æ— äº¤äº’ï¼Œç›´æ¥yes âš™ï¸ ~/.bashrc é…ç½® 1 2 3 4 5 6 sudo vi ~/.bashrc # ç¼–è¾‘ ~/.bashrc # ã€ã€ bind \u0026#34;set completion-ignore-case on\u0026#34; # Tab è¡¥å…¨å¿½ç•¥å¤§å°å†™ export HISTCONTROL=erasedups # å†å²å‘½ä»¤ä¸é‡å¤ export HISTIGNORE=\u0026#34;\u0026amp;:ls:cd:pwd:clear\u0026#34; # å¿½ç•¥ä¸é‡è¦çš„å‘½ä»¤ source ~/.bashrc # åº”ç”¨ä¿®æ”¹ âš™ï¸ é…ç½® Grub å¯åŠ¨é¡¹ï¼ˆDual Bootï¼‰ 1 2 3 4 5 6 7 8 sudo vi /etc/default/grub # ç¼–è¾‘ /etc/default/grub # æ ¹æ®éœ€è¦ä¿®æ”¹ä¸‹é¢ä¸¤è¡Œ GRUB_TIMEOUT=30 GRUB_DEFAULT=saved # æ·»åŠ ä¸‹é¢è¿™è¡Œ GRUB_SAVEDEFAULT=true sudo -i # åˆ‡æ¢åˆ° oot ç”¨æˆ· grub2-mkconfig -o /boot/grub2/grub.cfg # ç”Ÿæˆæ–°çš„ GRUB é…ç½®æ–‡ä»¶ ğŸ» æ›´æ–° 1 2 3 4 dnf repolist # æŸ¥çœ‹è½¯ä»¶ä»“åº“ sudo dnf check-update # æ£€æŸ¥æ›´æ–° sudo dnf upgrade # Fedora å®˜æ–¹å’Œ DNF æ–‡æ¡£éƒ½æ¨èä½¿ç”¨ dnf upgradeï¼Œå› ä¸ºå®ƒæ›´ç¬¦åˆ DNF çš„ç°ä»£è¡Œä¸ºæ¨¡å¼ã€‚ sudo dnf update # å¯é€‰ ğŸ”§ DNF çš„ä½¿ç”¨ 1 2 3 4 5 6 7 8 # æŸ¥æ‰¾æŸä¸ªè½¯ä»¶åŒ… dnf repoquery \u0026lt;pkg-name\u0026gt; dnf info \u0026lt;pkg-name\u0026gt; dnf list --installed \u0026lt;pkg-name\u0026gt; # æŸ¥æ‰¾å·²å®‰è£…çš„è½¯ä»¶åŒ… dnf remove \u0026lt;pkg-name\u0026gt; # å¸è½½ dnf autoremove # æ¸…ç†æ— ç”¨çš„ä¾èµ– dnf repolist # æŸ¥çœ‹å¯ç”¨çš„è½¯ä»¶ä»“åº“ dnf --help # æŸ¥çœ‹å¸®åŠ© â–¶ï¸ å¯ç”¨ RPM Fusion \u0026amp; å®‰è£… VLC å‚è€ƒ RPM Fusion Configuration\næ·»åŠ  rpm fusion è½¯ä»¶ä»“åº“ï¼ˆåŒ…å«è‡ªç”±è½¯ä»¶å’Œéè‡ªç”±è½¯ä»¶ï¼‰ 1 sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm å¯ç”¨ Cisco çš„ OpenH264 ç¼–è§£ç å™¨ 1 sudo dnf config-manager setopt fedora-cisco-openh264.enabled=1 æ›´æ–° \u0026ldquo;æ ¸å¿ƒç³»ç»Ÿ\u0026rdquo; ç›¸å…³çš„è½¯ä»¶åŒ… 1 2 sudo dnf update @core # æ›´æ–° @core è½¯ä»¶åŒ…ç»„ dnf group info core # æŸ¥çœ‹è¿™ä¸ªè½¯ä»¶åŒ…ç»„æœ‰å“ªäº›åŒ… å®‰è£… VLC 1 sudo dnf install vlc ğŸ¬ å¤šåª’ä½“ç›¸å…³ å‚è€ƒ RPM Fusion Multimedia\nå°† ffmpeg-free æ›¿æ¢ä¸º ffmpegï¼Œå¹¶å…è®¸åˆ é™¤å¯èƒ½å­˜åœ¨çš„è½¯ä»¶åŒ…å†²çª 1 sudo dnf swap ffmpeg-free ffmpeg --allowerasing æ›´æ–° Fedora ç³»ç»Ÿä¸­çš„ @multimedia ç»„çš„è½¯ä»¶åŒ… 1 sudo dnf update @multimedia --setopt=\u0026#34;install_weak_deps=False\u0026#34; --exclude=PackageKit-gstreamer-plugin æ›¿æ¢ Mesa é©±åŠ¨ç¨‹åºï¼Œä»¥è·å¾—æ›´å¹¿æ³›çš„è§†é¢‘è§£ç æ”¯æŒï¼ˆAMD ç¡¬ä»¶åŠ é€Ÿï¼‰ 1 2 3 sudo dnf swap mesa-va-drivers mesa-va-drivers-freeworld sudo dnf swap mesa-vdpau-drivers mesa-vdpau-drivers-freeworld # é€šè¿‡æ›¿æ¢ Mesa çš„ VA-API å’Œ VDPAU é©±åŠ¨ç¨‹åºï¼Œä» Fedora é»˜è®¤ä»“åº“åˆ‡æ¢åˆ° RPM Fusion çš„ freeworld ä»“åº“ï¼Œä»è€Œè·å¾—æ›´å…¨é¢çš„ç¡¬ä»¶åŠ é€Ÿè§†é¢‘è§£ç æ”¯æŒã€‚ ğŸ–¥ï¸ è°ƒèŠ‚å¤–æ¥æ˜¾ç¤ºå™¨äº®åº¦ 1 2 3 4 5 6 dnf search ddcutil sudo dnf install ddcutil # å®‰è£… ddcutil sudo ddcutil detect sudo ddcutil setvcp 10 \u0026lt;value\u0026gt; # è°ƒèŠ‚äº®åº¦ï¼Œ\u0026lt;value\u0026gt; é€šå¸¸åœ¨ 0 åˆ° 100 ä¹‹é—´ï¼Œè¡¨ç¤ºäº®åº¦çš„ç™¾åˆ†æ¯”ã€‚ flatpak install flathub com.mattjakeman.ExtensionManager # å®‰è£…æ‰©å±•ç®¡ç†å™¨ # æœ€åå®‰è£… Brightness control using ddcutil æ‰©å±• ğŸ”¤ å®‰è£…å­—ä½“ åœ¨ Nerd Fonts ä¸‹è½½ JetBrainsMono Nerd Font å­—ä½“å‹ç¼©åŒ…\n1 2 3 4 5 sudo mkdir -p /usr/share/fonts/jetbrains-nerd-fonts # åˆ›å»ºå­—ä½“æ–‡ä»¶å¤¹ sudo unzip ./JetBrainsMono.zip # è§£å‹ sudo mv ./*.ttf /usr/share/fonts/jetbrains-nerd-fonts # ç§»åŠ¨.ttfæ–‡ä»¶åˆ°å¯¹åº”çš„ç›®å½• fc-cache -fv # æ›´æ–°å­—ä½“ç¼“å­˜ fc-list | grep JetBrains # æ£€æŸ¥æ˜¯å¦æˆåŠŸåŠ è½½ ","permalink":"https://ninjatypeman.github.io/posts/fedora-config/","summary":"å®‰è£… Fedora Workstation 41 ä¹‹åçš„ä¸€äº›é…ç½®","title":"Fedora 41 é…ç½®"},{"content":"Focus on what matters instead of fighting with Git.\nConfig 1 2 3 4 5 6 7 8 9 10 git config -l # æŸ¥çœ‹é…ç½® git config --global --list # æŸ¥çœ‹å…¨å±€é…ç½® git init # åˆå§‹åŒ–ä»“åº“ git config user.name \u0026#34;Your Name\u0026#34; # è®¾ç½®ç”¨æˆ·å git config user.email \u0026#34;email@example.com\u0026#34; # è®¾ç½®é‚®ç®± git remote add origin https://github.com/username/repo-name.git # æ·»åŠ è¿œç¨‹æº git pull --rebase # ä¸´æ—¶ rebase git add . git commit -m \u0026#34;comment\u0026#34; # Stage Commit git push -u origin main # ç¬¬ä¸€æ¬¡ push Branch 1 2 3 4 5 6 7 8 9 10 11 12 # åˆ›å»ºåˆ†æ”¯ï¼Œä¸¤æ¡å‘½ä»¤ç­‰ä»· git checkout -b branch-a git switch -c branch-a # Add \u0026amp; Commit git status git add . git commit -m \u0026#34;comment\u0026#34; # push åˆ†æ”¯åˆ°è¿œç¨‹ git push origin branch-a # åˆ‡æ¢åˆ†æ”¯ git checkout main git switch main Merge å›¢é˜Ÿåä½œï¼Œéœ€è¦è®°å½•è°åœ¨å“ªä¸ªåˆ†æ”¯å¹²äº†ä»€ä¹ˆã€‚ ä¸å¤ªå…³æ³¨æäº¤å†å²æ˜¯å¦çº¿æ€§æ¸…çˆ½ã€‚ å°å›¢é˜Ÿæˆ–æ—¶é—´ç´§ï¼Œä¸éœ€è¦æå‰æ•´ç†æäº¤ã€‚ 1 2 3 4 5 git switch main # åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ git pull origin main # æ›´æ–°ä¸»åˆ†æ”¯ git merge origin/branch-a # åˆå¹¶åˆ†æ”¯ # è§£å†³å†²çª \u0026amp; æµ‹è¯•é€šè¿‡å git push origin main # æ¨é€åˆå¹¶ç»“æœ Rebase ä¿æŒæäº¤å†å²çº¿æ€§ï¼Œé¿å…ä¸å¿…è¦çš„ merge commit å‡å°‘åˆå¹¶å†²çªçš„å¤æ‚åº¦ï¼ˆå› ä¸ºå·²ç»æå‰å¤„ç†è¿‡äº†ï¼‰ 1 2 3 4 5 6 git switch branch-a git rebase main # å¦‚æœæç¤º â€œCurrent branch branch-a is up to date.â€ï¼Œåˆ™ç»§ç»­ä¸‹ä¸€æ­¥ # è§£å†³å†²çªã€æµ‹è¯•å git switch main git merge feature/branch-a git push origin main å¤šä¸ª GitHub è´¦æˆ· ç¼–è¾‘ ~/.ssh/config\n1 2 3 4 5 6 7 8 9 10 11 # è´¦å·Aé…ç½® Host gh-tom # åˆ«åï¼Œå¯ä»¥è®¾ç½®ä¸ºç”¨æˆ·åæ–¹ä¾¿é…ç½®ã€é¿å…æ··æ·† HostName github.com User git IdentityFile ~/.ssh/id_rsa_tom # æŒ‡å®šç§é’¥ # è´¦å·Bé…ç½® Host gh-jerry HostName github.com User git IdentityFile ~/.ssh/id_rsa_jerry åœ¨å„è‡ªçš„ä»“åº“ä¿®æ”¹è¿œç¨‹åœ°å€ï¼š\n1 2 3 # username æ›¿æ¢ä¸ºçœŸå®çš„ GitHub ç”¨æˆ·å git remote set-url origin git@gh-tom:\u0026lt;username\u0026gt;/repo-name.git git remote set-url origin git@gh-jerry:\u0026lt;username\u0026gt;/repo-name.git Others ä¿®æ”¹è¿œç¨‹ä»“åº“ååï¼Œæœ¬åœ°æ›´æ–° URL\n1 git remote set-url origin https://github.com/new-username/repo.git ","permalink":"https://ninjatypeman.github.io/posts/git-note/","summary":"Git ç›¸å…³ç¬”è®°","title":"Git ç¬”è®°"},{"content":"å®‰è£… Samba 1 sudo dnf install samba samba-client samba-common åˆ›å»ºå…±äº«æ–‡ä»¶å¤¹ 1 2 mkdir -p ~/Shared chmod 777 ~/Shared # èµ‹æƒ é…ç½®å…±äº«æ–‡ä»¶å¤¹ è¿½åŠ å†…å®¹åˆ° /etc/samba/smb.conf\n1 2 3 4 5 6 7 8 9 10 sudo bash -c \u0026#39;cat \u0026gt;\u0026gt; /etc/samba/smb.conf \u0026lt;\u0026lt;EOF [Shared] path = /home/YOUR_USERNAME/Shared writable = yes browseable = yes guest ok = no create mask = 0666 directory mask = 0777 force user = YOUR_USERNAME EOF\u0026#39; æ·»åŠ  Samba ç”¨æˆ· éœ€ç¡®ä¿è¿™ä¸ªç”¨æˆ·åœ¨ç³»ç»Ÿä¸­å­˜åœ¨\n1 sudo smbpasswd -a YOUR_USERNAME é…ç½®é˜²ç«å¢™ é…ç½®é˜²ç«å¢™æ”¾è¡Œ Samba æœåŠ¡\n1 2 3 sudo firewall-cmd --permanent --add-service=samba sudo firewall-cmd --reload sudo firewall-cmd --list-all é…ç½® SELinux é…ç½® SELinux æ”¯æŒ Samba è®¿é—® home ç›®å½•\n1 2 sudo setsebool -P samba_enable_home_dirs on sudo chcon -t samba_share_t ~/Shared -R é…ç½®å¼€æœºå¯åŠ¨ ç«‹å³å¯åŠ¨ã€å¼€æœºè‡ªå¯åŠ¨\n1 2 sudo systemctl enable --now smb nmb sudo systemctl status smb nmb è¿æ¥ 1 smb://192.168.XXX.XXX/Shared ","permalink":"https://ninjatypeman.github.io/posts/samba-linux/","summary":"Fedora Workstation ä¸Šé…ç½® Samba å®ç°å±€åŸŸç½‘æ–‡ä»¶å…±äº«","title":"Fedora ä¸Šä½¿ç”¨ Samba"},{"content":" Podman é…ç½®ä¼¼ä¹æœ‰ç‚¹å¤æ‚ï¼Œå»ºè®®ä½¿ç”¨ Docker\nğŸ“¥ å®‰è£… Docker ç”µè„‘è¿æ¥æ‰‹æœºçƒ­ç‚¹ï¼Œæ‰‹æœºä»£ç†å·¥å…·æ‰“å¼€å±€åŸŸç½‘å…±äº«ï¼Œç„¶åç¼–è¾‘ç”µè„‘ä¸Šçš„ ~/.bashrc æ–‡ä»¶ï¼ŒåŠ å…¥ä¸‹é¢ä¸¤è¡Œï¼š\n1 2 3 # æ³¨æ„ä¿®æ”¹IPã€ç«¯å£ï¼Œåé¢å®¹å™¨è¿è¡Œèµ·æ¥ä¹‹åå¯ä»¥æ³¨é‡Šæ‰ export http_proxy=\u0026#34;http://192.168.1.101:9870\u0026#34; export https_proxy=\u0026#34;http://192.168.1.101:9870\u0026#34; åŠ è½½é…ç½®ï¼š\n1 source ~/.bashrc é€šè¿‡å‘½ä»¤ä¸‹è½½å®‰è£…è„šæœ¬:\n1 curl -fsSL https://get.docker.com -o get-docker.sh é€šè¿‡è¿è¡Œä¸Šé¢ä¸‹è½½çš„è„šæœ¬å®‰è£…Dockerï¼š\n1 sudo sh get-docker.sh âš™ï¸ é…ç½® Daemon ä»£ç† ç»™ Docker Daemon é…ç½®ä»£ç†ï¼Œç­‰å®¹å™¨ run èµ·æ¥ä¹‹åå†ç§»é™¤ä»£ç†é…ç½® åˆ›å»ºæ–‡ä»¶å¤¹ï¼š\n1 sudo mkdir -p /etc/systemd/system/docker.service.d åˆ›å»ºã€ç¼–è¾‘ http-proxy.conf æ–‡ä»¶ï¼š\nsudo vi /etc/systemd/system/docker.service.d/http-proxy.conf æ·»åŠ å†…å®¹ï¼š\n1 2 3 4 5 # æ³¨æ„ä¿®æ”¹IPã€ç«¯å£ï¼ŒåŒæ ·å¯ä»¥åœ¨åé¢å®¹å™¨è¿è¡Œèµ·æ¥ä¹‹åæ³¨é‡Šæ‰ [Service] Environment=\u0026#34;HTTP_PROXY=192.168.1.101:9870\u0026#34; Environment=\u0026#34;HTTPS_PROXY=192.168.1.101:9870\u0026#34; Environment=\u0026#34;NO_PROXY=127.0.0.1\u0026#34; é‡æ–°åŠ è½½ï¼š\n1 2 3 4 sudo systemctl daemon-reload sudo systemctl restart docker # ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ä»£ç†é…ç½®æ˜¯å¦è¢«åŠ è½½ sudo systemctl show --property=Environment docker ğŸ³ è¿è¡Œ v2rayA å®¹å™¨ è®¾ç½® Docker æœåŠ¡å¼€æœºå¯åŠ¨ï¼Œå¹¶ä¸”ç«‹å³å¯åŠ¨ Docker æœåŠ¡ï¼š\n1 sudo systemctl enable --now docker æ‹‰å–é•œåƒï¼š\n1 2 3 sudo docker pull mzz2017/v2raya # æŸ¥çœ‹é•œåƒ sudo docker images åˆ¤æ–­ Linux ç³»ç»Ÿæ˜¯å¦åŸç”Ÿä½¿ç”¨ nftablesï¼š\n1 iptables -V çœ‹åˆ° iptables v1.8.10 (nf_tables) è¿™æ ·çš„è¾“å‡ºè¯´æ˜åŸç”Ÿä½¿ç”¨ nftablesï¼Œç›´æ¥å¤åˆ¶ä¸‹é¢çš„å‘½ä»¤è¿è¡Œï¼›å¦åˆ™ï¼Œå°†å‘½ä»¤ä¸­çš„onæ”¹ä¸ºoffã€nftablesæ”¹ä¸ºlegacyï¼Œç„¶åè¿è¡Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 sudo docker run -d \\ --restart=always \\ --privileged \\ --network=host \\ --name v2raya \\ -e V2RAYA_LOG_FILE=/tmp/v2raya.log \\ -e V2RAYA_V2RAY_BIN=/usr/local/bin/v2ray \\ -e V2RAYA_NFTABLES_SUPPORT=on \\ -e IPTABLES_MODE=nftables \\ -v /lib/modules:/lib/modules:ro \\ -v /etc/resolv.conf:/etc/resolv.conf \\ -v /etc/v2raya:/etc/v2raya \\ mzz2017/v2raya æŸ¥çœ‹å®¹å™¨ï¼š\n1 sudo docker ps ğŸŒ è®¾ç½®é€æ˜ä»£ç† å®¹å™¨æ­£å¸¸è¿è¡Œåï¼Œåˆ†åˆ«ç§»é™¤ ~/.bashrc å’Œ /etc/systemd/system/docker.service.d/http-proxy.conf çš„ä»£ç†é…ç½®ï¼ˆæŠŠæ·»åŠ çš„å†…å®¹æ³¨é‡Šæ‰ï¼‰\né‡æ–°åŠ è½½ systemd é…ç½®å¹¶é‡å¯ Docker æœåŠ¡ï¼š\n1 2 sudo systemctl daemon-reload sudo systemctl restart docker æµè§ˆå™¨æ‰“å¼€ localhost:2017 ï¼Œæ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œç‚¹å‡»importå¯¼å…¥è®¢é˜…ï¼Œ å³ä¸Šè§’åˆ‡æ¢è¯­è¨€ï¼Œç‚¹å‡»â€œè®¾ç½®â€ï¼Œè®¾ç½®é€æ˜ä»£ç†ï¼š\né¡¹ å€¼ é€æ˜ä»£ç†/ç³»ç»Ÿä»£ç† é€‰æ‹©æœ€åä¸€é¡¹ é€æ˜ä»£ç†/ç³»ç»Ÿä»£ç†å®ç°æ–¹å¼ redirect è§„åˆ™ç«¯å£çš„åˆ†æµæ¨¡å¼ RoutingA é˜²æ­¢DNSæ±¡æŸ“ å…³é—­ ç‰¹æ®Šæ¨¡å¼ å…³é—­ TCPFastOpen å…³é—­ å—…æ¢ Http + TLS å¤šè·¯å¤ç”¨ å…³é—­ è‡ªåŠ¨æ›´æ–°è®¢é˜… æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œä¸‹é¢æ—¶é—´è‡ªå·±å¡« è§£æè®¢é˜…é“¾æ¥ ä¸è¿›è¡Œåˆ†æµ é€‰æ‹©èŠ‚ç‚¹ï¼Œç‚¹å‡»å³ä¸Šè§’çš„çº¢è‰²æŒ‰é’®å¼€å§‹è¿è¡Œï¼Œæ‰“å¼€ä¸€ä¸ª 404 ç½‘ç«™æµ‹è¯•\nğŸ¤® é˜²æ­¢ DNS æ±¡æŸ“ å¤©æœ‰ä¸æµ‹é£äº‘ï¼Œä¸€é€šé…ç½®è¿˜æ²¡çˆ½å¤šä¹…ï¼Œå°±é‡åˆ°äº† GitHub çš„ DNS æ±¡æŸ“é—®é¢˜ï¼Œso keep on goingğŸ‘‡ï¼š\næ‰“å¼€ç³»ç»Ÿè®¾ç½®ï¼Œå…³é—­è‡ªåŠ¨ DNSï¼Œæ·»åŠ ï¼š\nIPv4: 8.8.8.8,1.1.1.1\nIPv6: 2001:4860:4860::8888,2001:4860:4860::8844\nChrome æµè§ˆå™¨ä¸ºä¾‹ï¼Œæ‰“å¼€ chrome://settings/securityï¼Œå¼€å¯ Use secure DNS ğŸ”š\nğŸ“– å‚è€ƒèµ„æ–™ v2rayA-Docker\næœ€ä½³ä»£ç†å®è·µ(2024-12-19)\n","permalink":"https://ninjatypeman.github.io/posts/tproxy-v2raya/","summary":"Docker å®‰è£… v2rayAã€é…ç½®é€æ˜ä»£ç†","title":"v2rayA é€æ˜ä»£ç†"},{"content":"å¦‚æœæ˜¯ Gnomeï¼Œæœ‰ç›´æ¥èƒ½ç”¨çš„ ibus è¯åº“çš„è¯ï¼Œå¯ä»¥å¯¼å…¥è¯åº“ç›´æ¥ä½¿ç”¨ï¼Œ ibus-rime ä¼¼ä¹é—®é¢˜æœ‰ç‚¹å¤šï¼Œä¸å»ºè®®ä½¿ç”¨ï¼›å¦‚æœæƒ³æŠ˜è…¾ï¼Œå¯ä»¥è€ƒè™‘ Fcitx5\nå®‰è£… Fcitx5 ä½¿ç”¨ç³»ç»Ÿå†…ç½®çš„åŒ…ç®¡ç†å™¨å®‰è£…ï¼ˆdnf æ˜¯ Fedora å†…ç½®çš„åŒ…ç®¡ç†å™¨ï¼‰ï¼š\n1 2 3 4 # å®‰è£…å‘½ä»¤ sudo dnf install fcitx5 fcitx5-chinese-addons fcitx5-configtool fcitx5-rime fcitx5-qt fcitx5-gtk # å¸è½½å‘½ä»¤ï¼š sudo dnf remove \u0026#34;fcitx5*\u0026#34; é›¾å‡‡æ‹¼éŸ³ é›¾å‡‡æ‹¼éŸ³â€”â€”é•¿æœŸç»´æŠ¤çš„ç®€ä½“è¯åº“\n1 2 3 4 5 6 # åˆ›å»ºæ–‡ä»¶å¤¹ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ mkdir -p ~/.local/share/fcitx5/rime/ # å…‹éš†é›¾å‡‡æ‹¼éŸ³è¿™ä¸ªRimeé…ç½®åˆ°æœ¬åœ°ï¼ˆæˆ‘å…‹éš†åˆ°äº† ~/Downloads/ ç›®å½•ï¼‰ git clone https://github.com/iDvel/rime-ice.git rime --depth 1 # å¤åˆ¶ä¸Šé¢å…‹éš†åˆ°æœ¬åœ°çš„æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶åˆ°åˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ cp ~/Downloads/rime/* ~/.local/share/fcitx5/rime é€‰æ‹©è¾“å…¥æ–¹æ¡ˆ æˆ‘ä½¿ç”¨å°é¹¤åŒæ‹¼æ–¹æ¡ˆï¼Œå¦‚æœä½ ä½¿ç”¨å…¶ä»–æ–¹æ¡ˆï¼Œä¹Ÿå¯ä»¥æŒ‰éœ€è°ƒæ•´\n1 2 # ç¼–è¾‘default.yamlé…ç½®æ–‡ä»¶ï¼ŒæŠŠ schema: double_pinyin_flypy è¿™è¡Œç§»åŠ¨åˆ°æ–¹æ¡ˆåˆ—è¡¨ï¼ˆschema_listï¼‰çš„æœ€å‰é¢ vi ~/.local/share/fcitx5/rime/default.yaml åŒæ ·åœ¨ default.yaml æ–‡ä»¶å†…ï¼Œè°ƒæ•´å€™é€‰è¯ä¸ªæ•°ï¼š\n1 page_size: 9 å…³é—­å€™é€‰è¯æ‹¼éŸ³æ³¨é‡Š é»˜è®¤å€™é€‰è¯ä¼šæœ‰æ‹¼éŸ³æ³¨é‡Šï¼Œæ¯”å¦‚ï¼šä½ å¥½[ni hao]ï¼Œç¼–è¾‘ double_pinyin_flypy.schema.yamlï¼ˆç¼–è¾‘å“ªä¸ªæ–‡ä»¶çœ‹ä½ ä½¿ç”¨ä»€ä¹ˆæ–¹æ¡ˆï¼‰ï¼Œæ³¨é‡Šä¸‹é¢è¿™ä¸¤è¡Œå°±å¯ä»¥å…³é—­\n1 2 spelling_hints: 8 always_show_comments: true ç„¶åæ‰“å¼€ Fcitx5 Configuration æ·»åŠ  Rimeï¼Œè‡ªå¸¦çš„è‹±æ–‡å¯ä»¥åˆ æ‰\nç¯å¢ƒå˜é‡ ç¼–è¾‘ ~/.bash_profileï¼Œæ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š\n1 2 3 4 5 # æ³¨æ„ç¬¬ä¸‰è¡Œ @im=fcitx ä¸è¦ç”¨åŒå¼•å·åŒ…å›´ export GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=@im=fcitx export INPUT_METHOD=fcitx é‡æ–°åŠ è½½é…ç½® é€šè¿‡ Gnome Tweaks è®¾ç½®å¼€æœºå¯åŠ¨ï¼Œé‡æ–°ç™»å½•æˆ–è€…é‡å¯ï¼Œç„¶åæ‰“å­—æµ‹è¯•\nç®€å•ä¼˜åŒ– å®‰è£… Input Method Panel æ’ä»¶ï¼Œå®ç° UI ç»Ÿä¸€ã€æ‰˜ç›˜æ˜¾ç¤ºè¾“å…¥æ³•å›¾æ ‡ï¼Œå€™é€‰è¯å­—ä½“å¤§å°å¯ä»¥åœ¨æ’ä»¶é‡Œè°ƒæ•´ ğŸ”š\nå‚è€ƒ Fcitx5ï¼ŒRIMEï¼Œrime-ice\n","permalink":"https://ninjatypeman.github.io/posts/fcitx5-fedora/","summary":"åœ¨ Fedora Workstation 41 ä¸Šå®‰è£… Fcitx5 è¾“å…¥æ³•","title":"Fedora å®‰è£… Fcitx5"},{"content":"ä¹‹å‰ä¸€ç›´ç”¨ Hexo å‘åšå®¢ï¼Œç”Ÿæˆé€Ÿåº¦ç¡®å®æ„Ÿäººï¼Œæœ€è¿‘ç ”ç©¶äº†ä¸€ä¸‹å¸¸è§çš„å‡ ä¸ªé™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œæœ€ç»ˆé€‰æ‹©äº† Hugoï¼Œä»¥ä¸‹æ˜¯ Hugo åšå®¢æ­å»ºå’Œé€šè¿‡ GitHub Pages + GitHub Actions ï¼ˆä½¿ç”¨ Deploy key è€Œä¸æ˜¯ PATï¼‰å®ç°è‡ªåŠ¨éƒ¨ç½²çš„å…·ä½“æ­¥éª¤\nå‰ç½®æ¡ä»¶ ğŸ”§ Gitï¼ŒGitHub è´¦æˆ·ï¼ŒVS Code\næœ¬åœ°éƒ¨ç½² è¿™é‡Œåœ¨ Fedora Linux ä¸Šåšæœ¬åœ°éƒ¨ç½²ï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿä¸Šçš„æ­¥éª¤å¤§åŒå°å¼‚\nâ–¶ï¸ é¦–å…ˆä½¿ç”¨å†…ç½®çš„åŒ…ç®¡ç†å™¨æœç´¢ hugo æŸ¥çœ‹æ˜¯å¦æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼ˆdnf æ˜¯ Fedora å†…ç½®çš„åŒ…ç®¡ç†å™¨ï¼‰ï¼Œæ˜¯åˆ™é€šè¿‡dnf install hugoå‘½ä»¤å®‰è£…ï¼Œå¦åˆ™åˆ° GitHub ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ hugo\n1 dnf info hugo # æˆ–è€…ï¼šdnf repoquery hugo dnf æœç´¢çš„ç‰ˆæœ¬å¯¹æ¯” GitHub ä¸Šçš„ç‰ˆæœ¬ï¼ŒGitHub çš„ç‰ˆæœ¬æ›´æ–°ï¼Œæ‰€ä»¥æˆ‘åœ¨ GitHub ä¸‹è½½ï¼Œåˆå› ä¸ºåé¢ä¼šé€šè¿‡ GitHub Pages éƒ¨ç½²ï¼Œæ‰€ä»¥é€‰æ‹©æ–‡ä»¶åä¸å¸¦ â€œwithdeployâ€ çš„ç‰ˆæœ¬ï¼Œé€šè¿‡å‘½ä»¤è§£å‹ï¼š\n1 tar -xzvf hugo_extended_x.xxx.x_linux-amd64.tar.gz è§£å‹åæŠŠ hugo è¿™ä¸ªæ–‡ä»¶ç§»åŠ¨åˆ° /usr/local/bin ç›®å½•ï¼š\n1 sudo mv hugo /usr/local/bin æŸ¥çœ‹ Hugo ç‰ˆæœ¬ï¼š\n1 hugo version åˆ›å»ºã€è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ï¼š\n1 2 hugo new site hugo-blog # è‡ªå·±èµ·ä¸€ä¸ªæ–‡ä»¶å¤¹å cd hugo-blog åˆå§‹åŒ–ä»“åº“ï¼š\n1 git init é€šè¿‡ touch .gitignore å‘½ä»¤æ–°å»º .gitignore æ–‡ä»¶ï¼Œå¤åˆ¶ä¸‹é¢çš„å†…å®¹æ·»åŠ è¿›å»ï¼ˆç”¨æ¥å¿½ç•¥ä¸å¿…è¦çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 /public resources/_gen/ .hugo_build.lock # Compiled Object files, Static and Dynamic libs (Shared Objects) *.o *.a *.so # Folders _obj _test # Architecture specific extensions/prefixes *.[568vq] [568vq].out *.cgo1.go *.cgo2.c _cgo_defun.c _cgo_gotypes.go _cgo_export.* _testmain.go *.exe *.test .DS_Store åœ¨ Hugo Themes æ‰¾è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œä»¥ PaperMod ä¸ºä¾‹ï¼Œå®ƒæ”¯æŒå¤šç§å®‰è£…æ–¹å¼ï¼Œè¿™é‡Œé€šè¿‡ submodule çš„æ–¹å¼å®‰è£…ï¼š\n1 2 3 4 5 git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod # needed when you reclone your repo (submodules may not get cloned automatically) git submodule update --init --recursive # update git submodule update --remote --merge åº”ç”¨ä¸»é¢˜ï¼š\n1 echo \u0026#34;theme = \u0026#39;PaperMod\u0026#39;\u0026#34; \u0026gt;\u0026gt; hugo.toml æ–°å»ºä¸€ç¯‡æ–‡ç« ï¼š\n1 hugo new content ./content/posts/my-first-post.md å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆæ–°å»ºçš„æ–‡ç« é»˜è®¤æ˜¯è‰ç¨¿ï¼Œ-Då‚æ•°è¡¨ç¤ºæ„å»ºè‰ç¨¿å†…å®¹ï¼‰ï¼š\n1 hugo server -D éƒ¨ç½²åˆ° GitHub Pages ğŸ“¦ åˆ›å»ºä¸€ä¸ª Public ä»“åº“ï¼Œä»“åº“åä¸º \u0026lt;username\u0026gt;.github.ioï¼Œåˆ›å»ºçš„æ—¶å€™æ·»åŠ ä¸€ä¸ª README.md æ–‡ä»¶ï¼ˆä¹Ÿå¯ä»¥åˆ›å»ºå¥½ä¹‹åæ·»åŠ ï¼Œæ€»ä¹‹ä¸æ˜¯ç©ºä»“åº“å°±è¡Œï¼Œå¦åˆ™ä¼šå½±å“åé¢çš„å·¥ä½œæµï¼‰ï¼Œç„¶åæŠŠæœ¬åœ°åšå®¢ç›®å½•çš„ hugo.toml è¿™ä¸ªé…ç½®æ–‡ä»¶çš„ baseURL è¿™è¡Œåé¢çš„é“¾æ¥æ”¹ä¸º https://username.github.io/ï¼ˆæ³¨æ„æ›¿æ¢ usernameï¼‰\nğŸ“¦ å†åˆ›å»ºä¸€ä¸ª Private ä»“åº“ï¼Œç”¨æ¥ä¿å­˜åšå®¢æºç ï¼Œä¸éœ€è¦æ·»åŠ ä»»ä½•æ–‡ä»¶ï¼Œåå­—è‡ªå·±èµ·\nğŸ”‘ ç”Ÿæˆä¸€ä¸ª ed25519 ç±»å‹çš„ SHH å¯†é’¥å¯¹ï¼Œç”¨äºè¿æ¥è¿œç¨‹ä»“åº“ï¼š\n1 2 ssh-keygen -t ed25519 -C \u0026#34;your_email@example.com\u0026#34; -f ~/.ssh/github_ed25519 -N \u0026#34;\u0026#34; # ~/.ssh å¦‚æœä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼›-N å‚æ•°è®¾ç½® passphrase ä¸ºç©º æŠŠ SSH ç§é’¥æ·»åŠ è¿› SSH agentï¼š\n1 2 eval \u0026#34;$(ssh-agent -s)\u0026#34; ssh-add ~/.ssh/github_ed25519 â¡ï¸ å¤åˆ¶ .pub çš„å†…å®¹ï¼Œæ¥åˆ° GitHubï¼Œç‚¹å‡»å¤´åƒï¼Œç‚¹ Settings \u0026gt; SSH and GPG Keys \u0026gt; New SSH keyï¼Œå¡«å†™ Titleï¼ŒKey type ä¿æŒé»˜è®¤ Authenticaiton Keyï¼Œç²˜è´´åˆ° Key çš„åŒºåŸŸï¼Œç‚¹å‡»Add SSH key\nç„¶ååœ¨åšå®¢æ ¹ç›®å½•ä¸‹æµ‹è¯•è¿æ¥ï¼š\n1 2 ssh-add -l # æ£€æŸ¥æœ¬åœ° SSH key ssh -T git@github.com # æµ‹è¯• SSH è¿æ¥ ğŸ”‘ åŒæ ·åœ¨ ~/.ssh å†ç”Ÿæˆä¸€ä¸ª ed25519 å¯†é’¥å¯¹ï¼š\n1 ssh-keygen -t ed25519 -C \u0026#34;hugo-deploy-key\u0026#34; -f ~/.ssh/hugo_deploy_key -N \u0026#34;\u0026#34; ç¬¬äºŒä¸ªç”Ÿæˆä¹‹åä¸éœ€è¦æŠŠç§é’¥æ·»åŠ è¿› SSH agent\nâ¡ï¸ å¤åˆ¶ .pub çš„å†…å®¹ï¼Œåˆ°åˆšåˆ›å»ºçš„ Public ä»“åº“ï¼Œç‚¹å‡» Settings \u0026gt; Deploy keys \u0026gt; Add deploy keyï¼Œç²˜è´´åˆ° â€œKeyâ€ ä¸‹é¢çš„è¾“å…¥æ¡†ï¼Œèµ·ä¸€ä¸ª Titleï¼Œæ¯”å¦‚ï¼šhugo-deploy-keyï¼Œå‹¾é€‰â€œAllow write accessâ€ï¼Œæœ€åç‚¹å‡»â€œAdd keyâ€\nâ¡ï¸ å¤åˆ¶ç§é’¥çš„å†…å®¹ï¼ˆæ²¡æœ‰æ‰©å±•åçš„æ–‡ä»¶ï¼‰ï¼Œåˆ°åˆ° Private ä»“åº“çš„ Settings \u0026gt; Secrets and variables \u0026gt; Actions \u0026gt; New repository secretï¼Œç²˜è´´åˆ° Secret ä¸‹é¢çš„è¾“å…¥æ¡†ï¼Œèµ·ä¸€ä¸ª Nameï¼Œæ¯”å¦‚ï¼šHUGO_DEPLOY_SECRETï¼Œæœ€åç‚¹å‡» Add secret\nâš ï¸ ç§é’¥è¦å¤åˆ¶åŒ…æ‹¬å¤´å°¾ä¸¤è¡Œçš„å…¨éƒ¨å†…å®¹ï¼Œç²˜è´´çš„æ—¶å€™**åé¢å¤šåŠ ä¸€ä¸ªç©ºè¡Œ**\nåˆ›å»º GitHub Actions å·¥ä½œæµæ–‡ä»¶ï¼š\n1 2 mkdir -p .github/workflows touch .github/workflows/hugo.yaml ç¼–è¾‘ hugo.yamlï¼ŒæŠŠä¸‹é¢å†…å®¹ç²˜è´´è¿›å»ï¼ˆæ³¨æ„æ›¿æ¢è‡ªå·±çš„ä¿¡æ¯ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 name: Deploy to Public Repo on: push: branches: - main jobs: deploy: runs-on: ubuntu-latest steps: # Set timezone - name: Set timezone run: | sudo timedatectl set-timezone Asia/Shanghai # Checkout - name: Checkout private repo uses: actions/checkout@v4 with: submodules: recursive # fetch-depth: 0 # SSH - name: Setup SSH uses: webfactory/ssh-agent@v0.9.1 with: ssh-private-key: ${{ secrets.HUGO_DEPLOY_KEY }} # Set up Hugo - name: Set up Hugo uses: peaceiris/actions-hugo@v3 with: hugo-version: \u0026#34;0.145.0\u0026#34; # å¡«ä½ çš„hugoç‰ˆæœ¬ # Build - name: Build Hugo site run: hugo # Deploy to the public repo via SSH - name: Deploy to public repository run: | rm -rf deploy-repo git clone --single-branch --branch main git@github.com:\u0026lt;username\u0026gt;/\u0026lt;username\u0026gt;.github.io.git deploy-repo cd deploy-repo rm -rf * cp -r ../public/* . git config user.email \u0026#34;example@gmail.com\u0026#34; git config user.name \u0026#34;username\u0026#34; git add . git commit -m \u0026#34;Auto deploy Hugo site $(date \u0026#39;+%Y-%m-%d %H:%M:%S\u0026#39;)\u0026#34; git push origin main é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼š\n1 2 3 4 5 # æ³¨æ„æ›¿æ¢è‡ªå·±çš„ä¿¡æ¯ git config user.email â€œexample@gmail.comâ€ git config user.name \u0026#34;username\u0026#34; # é»˜è®¤ä½¿ç”¨mainåˆ†æ”¯ git config --global init.defaultBranch main å…³è” Private ä»“åº“ï¼š\n1 2 # æŸ¥çœ‹é…ç½® git remote add origin git@github.com:username/hugo-source-code.git Add, Commit, Push ä¸‰æ­¥èµ°ï¼š\n1 2 3 git add . git commit -m \u0026#34;First commit\u0026#34; git push -u origin main æœ€ååˆ° Private ä»“åº“çš„ Actions ç•Œé¢çœ‹å·¥ä½œæµæ˜¯å¦ run æˆåŠŸï¼ŒæˆåŠŸä¹‹ååœ¨æµè§ˆå™¨æ‰“å¼€ username.github.io å³å¯æŸ¥çœ‹åšå®¢é¡µé¢ ğŸ”š\nå‚è€ƒ Hugoï¼Œ PaperMod\n","permalink":"https://ninjatypeman.github.io/posts/hugo-deploy/","summary":"GitHub Pages + GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hugo + PaperMod åšå®¢","title":"Hugo åšå®¢æ­å»ºå’Œéƒ¨ç½²"}]